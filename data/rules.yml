version: "2.0"

rules:
  - rule: Say goodbye anytime the user says goodbye
    steps:
      - intent: goodbye
      - action: utter_goodbye

  - rule: Say 'I am a bot' anytime the user challenges
    steps:
      - intent: bot_challenge
      - action: utter_iamabot

  - rule: respond to FAQ's
    steps:
      - intent: faq
      - action: utter_faq

  - rule: activate search products
    steps:
      - intent: search_products
      - action: search_form
      - active_loop: search_form

  - rule: submit search products
    condition:
      - active_loop: search_form
    steps:
      - action: search_form
      - active_loop: null
      - slot_was_set:
          - requested_slot: null
      - action: action_search_submit

  - rule: activate payment status
    steps:
      - intent: payment_status
      - action: payment_form
      - active_loop: payment_form

  - rule: submit payment status
    condition:
      - active_loop: payment_form
    steps:
      - action: payment_form
      - active_loop: null
      - slot_was_set:
          - requested_slot: null
      - action: action_payment_status

  - rule: collaboration with abinbev
    steps:
      - intent: collab
      - action: utter_collab

  - rule: job opportunities
    steps:
      - intent: job_opportunity
      - action: utter_job_opportunity

  - rule: activate auth form
    steps:
      - intent: auth
      - action: auth_form
      - active_loop: auth_form

  - rule: submit auth form
    condition:
      - active_loop: auth_form
    steps:
      - action: auth_form
      - active_loop: null
      - slot_was_set:
          - requested_slot: null
      - action: action_auth

  - rule: Form Action
    steps:
      - intent: send_email
      - action: email_form
      - active_loop: email_form

  - rule: Submit Form
    condition:
    - active_loop: email_form
    steps:
    - action: email_form
    - active_loop: null
    - slot_was_set:
      - requested_slot: null
    - action: action_submit
