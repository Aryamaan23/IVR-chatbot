version: "2.0"

rules:
  - rule: Say goodbye anytime the user says goodbye
    steps:
      - intent: goodbye
      - action: utter_goodbye

  - rule: Say 'I am a bot' anytime the user challenges
    steps:
      - intent: bot_challenge
      - action: utter_iamabot

  - rule: respond to FAQ's
    steps:
      - intent: faq
      - action: utter_faq

  - rule: activate search products
    steps:
      - intent: search_products
      - action: search_form
      - active_loop: search_form

  - rule: submit search products
    condition:
      - active_loop: search_form
    steps:
      - action: search_form
      - active_loop: null
      - slot_was_set:
          - requested_slot: null
      - action: action_search_submit

  - rule: activate payment status
    steps:
      - intent: payment_status
      - action: payment_form
      - active_loop: payment_form

  - rule: submit payment status
    condition:
      - active_loop: payment_form
    steps:
      - action: payment_form
      - active_loop: null
      - slot_was_set:
          - requested_slot: null
      - action: action_payment_status
